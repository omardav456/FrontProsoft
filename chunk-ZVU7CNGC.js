import{l as L}from"./chunk-OMVLRHQ7.js";import"./chunk-VKLRIVRN.js";import"./chunk-74O7662K.js";import"./chunk-OK2TXBML.js";import"./chunk-3Z7BI6LD.js";import"./chunk-HC6MZPB3.js";import"./chunk-4PGTP63H.js";import"./chunk-ZQ7VXNFG.js";import"./chunk-FERD25SW.js";import"./chunk-PCR4Q3CI.js";import"./chunk-LEIMCQKJ.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-BR4MVXBU.js";import"./chunk-MCRJI3T3.js";import"./chunk-X2IXNIDI.js";import"./chunk-SGIWUBWN.js";import"./chunk-HIF5NPIH.js";import"./chunk-XDLFVO2Q.js";import{a as D}from"./chunk-ZVDCPEF7.js";import{c as w,i as F,k as T,m as B,n as E,q as N,r as A,x as W,y as k}from"./chunk-NLJNXHLR.js";import{$a as j,C as o,D as n,J as u,Qa as C,R as s,Ra as _,Sa as I,Ta as y,U as g,Ua as M,V as p,W as h,_a as v,ab as x,ca as P,ia as S,r as d,s as c,u as f}from"./chunk-O4TZACJZ.js";import"./chunk-NG6DNF3C.js";import"./chunk-TXAZYJNE.js";import"./chunk-T4LVKIJM.js";import"./chunk-GQVKPUXJ.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-GO752FNZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as b}from"./chunk-RW4GY4BD.js";var K=(()=>{let l=class l{constructor(i,e,t,r){this.fb=i,this.alertController=e,this.authService=t,this.router=r,this.nameP="",this.description=""}ngOnInit(){}onSubmit(){let i=sessionStorage.getItem("user_id")||"";console.log(this.nameP),this.validateForm()?(console.log("Proyecto creado:"+this.nameP),console.log(this.nameP,this.description,i),console.log(i),this.authService.registerProject(this.nameP,this.description,i).subscribe({next:e=>{console.log(e),console.log("Registro exitoso:",e),sessionStorage.setItem("project_id",String(e.id)),alert("Proyecto registrado correctamente"),this.router.navigate(["/tabs/tab1"])},error:e=>{console.error("Error en el registro:",e),alert("Hubo un error en el registro")}})):console.log("Formulario inv\xE1lido")}openSearchUserAlert(){return b(this,null,function*(){yield(yield this.alertController.create({header:"Agregar usuario",inputs:[{name:"email",type:"text",placeholder:"Buscar por correo"},{name:"id",type:"text",placeholder:"Buscar por ID"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Buscar",handler:e=>{let t=e.email,r=e.id;console.log("Buscar usuario con:",t||r)}}]})).present()})}validateForm(){return console.log(this.nameP),!this.nameP||!this.description?(alert("Todos los campos son obligatorios."),!1):!0}cancelarAction(){this.router.navigate(["/tabs/tab2"])}};l.\u0275fac=function(e){return new(e||l)(c(v),c(L),c(D),c(S))},l.\u0275cmp=f({type:l,selectors:[["app-create-project"]],decls:18,vars:2,consts:[[3,"ngSubmit"],["position","floating"],["name","nameP",3,"ngModelChange","ngModel"],["name","description",3,"ngModelChange","ngModel"],["expand","block","type","submit"],["expand","block","color","danger",3,"click"]],template:function(e,t){e&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s(3,"Crear Proyecto"),n()()(),o(4,"ion-content")(5,"form",0),u("ngSubmit",function(){return t.onSubmit()}),o(6,"ion-item")(7,"ion-label",1),s(8,"Nombre del proyecto"),n(),o(9,"ion-input",2),h("ngModelChange",function(a){return p(t.nameP,a)||(t.nameP=a),a}),n()(),o(10,"ion-item")(11,"ion-label",1),s(12,"Descripci\xF3n"),n(),o(13,"ion-textarea",3),h("ngModelChange",function(a){return p(t.description,a)||(t.description=a),a}),n()(),o(14,"ion-button",4),s(15,"Crear Proyecto"),n(),o(16,"ion-button",5),u("click",function(){return t.cancelarAction()}),s(17,"Cancelar"),n()()()),e&2&&(d(9),g("ngModel",t.nameP),d(4),g("ngModel",t.description))},dependencies:[P,j,M,C,_,y,I,x,F,T,N,A,B,E,W,k,w],encapsulation:2});let m=l;return m})();export{K as CreateProjectPage};
