import{l as G}from"./chunk-OMVLRHQ7.js";import"./chunk-VKLRIVRN.js";import"./chunk-74O7662K.js";import"./chunk-OK2TXBML.js";import"./chunk-3Z7BI6LD.js";import"./chunk-HC6MZPB3.js";import"./chunk-4PGTP63H.js";import"./chunk-ZQ7VXNFG.js";import"./chunk-FERD25SW.js";import"./chunk-PCR4Q3CI.js";import"./chunk-LEIMCQKJ.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-BR4MVXBU.js";import"./chunk-MCRJI3T3.js";import"./chunk-X2IXNIDI.js";import"./chunk-SGIWUBWN.js";import"./chunk-HIF5NPIH.js";import"./chunk-XDLFVO2Q.js";import{a as H}from"./chunk-ZVDCPEF7.js";import{c as T,i as A,j as L,m as N,r as j,u as D,v as V,x as z}from"./chunk-NLJNXHLR.js";import{$a as R,B as _,C as i,D as r,E as P,I as k,J as C,K as b,Qa as F,R as c,Ra as I,Sa as E,Ta as W,U as d,Ua as B,V as g,W as m,aa as S,ca as v,ia as O,k as M,l as y,r as s,s as u,u as w,y as x}from"./chunk-O4TZACJZ.js";import"./chunk-NG6DNF3C.js";import"./chunk-TXAZYJNE.js";import"./chunk-T4LVKIJM.js";import"./chunk-GQVKPUXJ.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-GO752FNZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as h}from"./chunk-RW4GY4BD.js";function K(p,l){if(p&1){let f=k();i(0,"ion-item")(1,"ion-input",20),m("ngModelChange",function(o){M(f);let e=b();return g(e.company,o)||(e.company=o),y(o)}),r()()}if(p&2){let f=b();s(),d("ngModel",f.company)}}var oe=(()=>{let l=class l{constructor(n,o,e,a){this.authService=n,this.router=o,this.toastController=e,this.alertController=a,this.name="",this.email="",this.password="",this.password_confirm="",this.company="",this.isChecked=!1}ngOnInit(){}validateForm(){return!this.name||!this.email||!this.password||!this.password_confirm?(this.presentAlert("Todos los campos son obligatorios."),!1):this.isChecked&&!this.company?(this.presentAlert("El campo de empresa es obligatorio para miembros."),!1):this.password!==this.password_confirm?(this.presentAlert("Las contrase\xF1as no coinciden."),!1):!0}onRegister(){return h(this,null,function*(){this.validateForm()&&(!this.isChecked&&this.validateForm()?this.authService.registerUser(this.name,this.email,this.password).subscribe({next:n=>{this.presentAlert("Revisa tu correo electronico para activar tu cuenta"),this.router.navigate(["/account-activation"]),localStorage.setItem("uid",String(n.uid))},error:n=>{this.presentAlert("Error en el registro")}}):this.validateForm()&&this.authService.registerMember(this.name,this.email,this.password,this.company).subscribe({next:n=>{console.log("Registro exitoso:",n),this.presentAlert("Revisa tu correo electronico para activar tu cuenta"),this.router.navigate(["/account-activation"]),localStorage.setItem("uid",String(n.uid))},error:n=>{console.error("Error en el registro:",n),this.presentAlert("Hubo un error en el registro")}}))})}presentToast(n){return h(this,null,function*(){yield(yield this.toastController.create({message:n,duration:1e3,position:"top",cssClass:"custom-toast"})).present()})}presentAlert(n){return h(this,null,function*(){yield(yield this.alertController.create({mode:"ios",cssClass:"my-custom-class",header:"Aviso",message:n,buttons:["OK"]})).present()})}};l.\u0275fac=function(o){return new(o||l)(u(H),u(O),u(D),u(G))},l.\u0275cmp=w({type:l,selectors:[["app-register"]],decls:33,vars:7,consts:[[3,"fullscreen"],[1,"fullheight","xc"],[1,"vcs"],[1,"register-form",3,"ngSubmit"],["type","text","placeholder","Nombre Completo","name","name",3,"ngModelChange","ngModel"],["type","text","placeholder","Correo electronico","name","email",3,"ngModelChange","ngModel"],["type","password","value","password","placeholder","Contrase\xF1a","name","password",3,"ngModelChange","ngModel"],["type","password","value","password_confirm","placeholder","Confirmar contrase\xF1a","name","password_confirm",3,"ngModelChange","ngModel"],[1,"custom-checkbox-item"],["labelPlacement","end","name","isChecked",1,"custom-checkbox",3,"ngModelChange","ngModel"],[4,"ngIf"],["labelPlacement","end",1,"custom-checkbox"],["href","https://es.wikipedia.org/wiki/Wikipedia:Portada",3,"click"],["expand","full","type","submit"],[1,"login-link"],["href","/"],[1,"ion-no-border"],[1,"exception-body"],[1,"exception-footer"],["src","/assets/images/icon.png","alt","Logo Footer",1,"imgFooter"],["type","text","placeholder","C\xF3digo de Empresa","name","company",3,"ngModelChange","ngModel"]],template:function(o,e){o&1&&(i(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"form",3),C("ngSubmit",function(){return e.onRegister()}),i(4,"ion-item")(5,"ion-input",4),m("ngModelChange",function(t){return g(e.name,t)||(e.name=t),t}),r()(),i(6,"ion-item")(7,"ion-input",5),m("ngModelChange",function(t){return g(e.email,t)||(e.email=t),t}),r()(),i(8,"ion-item")(9,"ion-input",6),m("ngModelChange",function(t){return g(e.password,t)||(e.password=t),t}),r()(),i(10,"ion-item")(11,"ion-input",7),m("ngModelChange",function(t){return g(e.password_confirm,t)||(e.password_confirm=t),t}),r()(),i(12,"ion-item",8)(13,"ion-checkbox",9),m("ngModelChange",function(t){return g(e.isChecked,t)||(e.isChecked=t),t}),c(14,"\xBFPerteneces a una empresa?"),r()(),x(15,K,2,1,"ion-item",10),i(16,"ion-item",8)(17,"ion-checkbox",11),c(18,"I agree to the "),i(19,"a",12),C("click",function(t){return t.stopPropagation()}),c(20,"terms and conditions"),r()()(),i(21,"ion-button",13),c(22,"Registrar"),r(),i(23,"div",14)(24,"h5"),c(25,"\xBFTienes cuenta? "),i(26,"a",15),c(27,"Iniciar Sesi\xF3n"),r()()()()()()(),i(28,"ion-footer",16)(29,"ion-toolbar")(30,"div",17)(31,"div",18),P(32,"img",19),r()()()()),o&2&&(_("fullscreen",!0),s(5),d("ngModel",e.name),s(2),d("ngModel",e.email),s(2),d("ngModel",e.password),s(2),d("ngModel",e.password_confirm),s(2),d("ngModel",e.isChecked),s(2),_("ngIf",e.isChecked))},dependencies:[A,j,N,L,z,V,T,v,S,R,B,F,I,W,E],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(to bottom, #ffffff, #87CEEB)}ion-toolbar[_ngcontent-%COMP%]{--background: #87CEEB}ion-item[_ngcontent-%COMP%]{--border-radius: 12px;padding:0 45px;width:auto;height:55px;--background: #0f8bfd14;margin-bottom:10px;position:static}ion-input[_ngcontent-%COMP%]{color:#000}ion-button[_ngcontent-%COMP%]{margin-top:20px;padding:0 45px;--border-radius: 10px;width:auto;height:40px;--background: #0F8BFD;margin-bottom:10px;position:static}ion-img[_ngcontent-%COMP%]{width:50%;margin:auto}.exception-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.exception-body[_ngcontent-%COMP%]   .exception-footer[_ngcontent-%COMP%]{align-items:center;display:flex}.imgFooter[_ngcontent-%COMP%]{width:30px;height:auto;margin-left:15px}.fullheight[_ngcontent-%COMP%]{height:100%}.xc[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.vcs[_ngcontent-%COMP%]{flex-direction:column;align-items:center}@media (prefers-color-scheme: dark){ion-content[_ngcontent-%COMP%]{--background: linear-gradient(to bottom, #ffffff, #87CEEB)}ion-toolbar[_ngcontent-%COMP%]{--background: #87CEEB}ion-item[_ngcontent-%COMP%]{--border-radius: 12px;padding:0 45px;width:auto;height:55px;--background: #0f8bfd14;margin-bottom:10px;position:static}ion-input[_ngcontent-%COMP%]{color:#000}}.login-link[_ngcontent-%COMP%]{margin-left:80px;font-size:14px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.custom-checkbox-item[_ngcontent-%COMP%]{--border-radius: 12px;--background: #0f8bfd14;color:#000;padding:0 45px;height:55px;margin-bottom:10px}.custom-checkbox[_ngcontent-%COMP%]{--background-checked: #0F8BFD;--checkmark-color: #ffffff;--border-radius: 6px;--border-color: #0F8BFD;--size: 22px}.custom-checkbox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}"]});let p=l;return p})();export{oe as RegisterPage};
