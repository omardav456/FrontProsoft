import{a as D}from"./chunk-ZVDCPEF7.js";import"./chunk-XL6KYHDF.js";import{c as S,d as y,e as E,f as T,g as w,h as A,i as k,k as F,q as V,r as H,u as O}from"./chunk-NLJNXHLR.js";import{$ as C,B as m,C as r,D as n,I as j,J as g,K as h,R as c,S as v,T as b,ca as x,ia as P,k as p,l as f,r as l,s as d,u as I,y as _}from"./chunk-O4TZACJZ.js";import"./chunk-NG6DNF3C.js";import"./chunk-TXAZYJNE.js";import"./chunk-T4LVKIJM.js";import"./chunk-GQVKPUXJ.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-GO752FNZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as u}from"./chunk-RW4GY4BD.js";function M(a,i){if(a&1){let s=j();r(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),c(4),n(),r(5,"ion-card-subtitle"),c(6,"Administrador"),n()(),r(7,"ion-card-content"),c(8),n(),r(9,"ion-button",3),g("click",function(){let t=p(s).$implicit,o=h();return f(o.deleteProject(t.id))}),c(10,"Eliminar"),n(),r(11,"ion-button",3),g("click",function(){let t=p(s).$implicit,o=h();return f(o.openProject(t.id))}),c(12,"Abrir"),n()()()}if(a&2){let s=i.$implicit;l(4),v(s.name),l(4),b(" ",s.description," ")}}var J=(()=>{let i=class i{constructor(e,t,o){this.authService=e,this.router=t,this.toastController=o,this.userId="",this.listProject=[]}ngOnInit(){this.getProjectsforAdminId()}getProjectsforAdminId(){return u(this,null,function*(){try{console.log("AQUI "+this.userId),this.userId=sessionStorage.getItem("user_id")||"",this.authService.getProjectforAdmin(this.userId).subscribe({next:e=>(console.log("AQUI"),console.log(e),this.listProject=e,console.log(this.listProject),e),error:e=>{console.log("Hubo un error: "+e)}})}catch{yield(yield this.toastController.create({message:"Error en el inicio de sesi\xF3n",duration:2e3,color:"danger"})).present()}})}openProject(e){this.router.navigate(["/project-detail"]),localStorage.setItem("project_id",e)}deleteProject(e){return u(this,null,function*(){try{this.authService.deleteProject(e).subscribe({next:t=>{console.log(t),console.log("Proyecto eliminado correctamente"),this.getProjectsforAdminId()},error:t=>{alert("Hubo un error: "+t)}})}catch{yield(yield this.toastController.create({message:"Error en el inicio de sesi\xF3n",duration:2e3,color:"danger"})).present()}})}};i.\u0275fac=function(t){return new(t||i)(d(D),d(P),d(O))},i.\u0275cmp=I({type:i,selectors:[["app-tab1"]],decls:6,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],[4,"ngFor","ngForOf"],["fill","clear",3,"click"]],template:function(t,o){t&1&&(r(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),c(3," Dashboard "),n()()(),r(4,"ion-content",1),_(5,M,13,2,"div",2),n()),t&2&&(m("translucent",!0),l(4),m("fullscreen",!0),l(),m("ngForOf",o.listProject))},dependencies:[F,H,V,k,S,y,E,T,w,A,x,C],encapsulation:2});let a=i;return a})();export{J as Tab1Page};
