import{a as G}from"./chunk-ZVDCPEF7.js";import{c as j,i as q,k as R,m as W,n as B,q as D,r as L,u as U,x as k}from"./chunk-NLJNXHLR.js";import{$a as P,B as v,C as r,D as c,I as _,J as I,K as d,Qa as M,R as u,Ra as F,Sa as N,Ta as T,U as x,Ua as V,V as C,W as S,Za as E,aa as w,ca as y,ga as A,ia as b,k as l,l as m,r as p,s as a,u as h,y as f}from"./chunk-O4TZACJZ.js";import"./chunk-NG6DNF3C.js";import"./chunk-TXAZYJNE.js";import"./chunk-T4LVKIJM.js";import"./chunk-GQVKPUXJ.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-GO752FNZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as g}from"./chunk-RW4GY4BD.js";function O(o,i){if(o&1){let s=_();r(0,"ion-content",1)(1,"form",2),I("ngSubmit",function(){l(s);let t=d();return m(t.activateAccount())}),r(2,"ion-item")(3,"ion-label",3),u(4,"Codigo de activaci\xF3n"),c(),r(5,"ion-input",4),S("ngModelChange",function(t){l(s);let n=d();return C(n.code,t)||(n.code=t),m(t)}),c()(),r(6,"ion-button",5),u(7,"Activate"),c()()()}if(o&2){let s=d();p(5),x("ngModel",s.code)}}var et=(()=>{let i=class i{constructor(e,t,n,H){this.authService=e,this.route=t,this.router=n,this.toastController=H,this.uid="",this.code="",this.showForm=!0}ngOnInit(){this.uid=this.route.snapshot.queryParamMap.get("uid")||"",this.code=this.route.snapshot.queryParamMap.get("code")||"",this.uid&&this.code&&(this.showForm=!1,this.activateAccount())}activateAccount(){return g(this,null,function*(){this.showForm&&(this.uid=localStorage.getItem("uid")||""),console.log("uid:"+this.uid),console.log("code:"+this.code),this.authService.activateUser(this.uid,this.code||"").subscribe({next:e=>{console.log("Usuario registrado con \xE9xito",e),this.router.navigate(["/"])},error:e=>{console.error("Error en el registro",e),alert("Error en la activaci\xF3n")}})})}};i.\u0275fac=function(t){return new(t||i)(a(G),a(A),a(b),a(U))},i.\u0275cmp=h({type:i,selectors:[["app-account-activation"]],decls:5,vars:1,consts:[["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[3,"ngSubmit"],["position","floating"],["name","code","type","text","required","",3,"ngModelChange","ngModel"],["expand","block","type","submit"]],template:function(t,n){t&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),u(3,"Activa tu Cuenta"),c()()(),f(4,O,8,1,"ion-content",0)),t&2&&(p(4),v("ngIf",n.showForm))},dependencies:[q,R,D,L,W,j,k,B,y,w,P,V,M,F,E,T,N],encapsulation:2});let o=i;return o})();export{et as AccountActivationPage};
